(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{3692:function(e,t,n){Promise.resolve().then(n.bind(n,7380))},7380:function(e,t,n){"use strict";let r;n.r(t),n.d(t,{default:function(){return components_AddFriendButton}});var s=n(7437),a=n(4578);let i=a.z.object({email:a.z.string().email()});console.log("add-friends.ts:Received data:",r);var o=n(9222),l=n(2164),c=n(2265),d=n(9977),u=n(1865),m=n(8110),components_AddFriendButton=e=>{var t;let{}=e,[n,r]=(0,c.useState)(!1),{register:f,handleSubmit:g,setError:h,formState:{errors:x}}=(0,u.cI)({resolver:(0,m.F)(i)}),addFriend=async e=>{try{let t=i.parse({email:e});await o.default.post("/api/friends/add",{email:t}),r(!0)}catch(e){if(e instanceof a.z.ZodError){h("email",{message:e.message});return}if(e instanceof l.d7){var t;h("email",{message:null===(t=e.response)||void 0===t?void 0:t.data});return}h("email",{message:"Something went wrong."})}};return(0,s.jsxs)("form",{onSubmit:g(e=>{addFriend(e.email)}),className:"max-w-sm",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Add friend by E-Mail"}),(0,s.jsxs)("div",{className:"m-5 mt-2 flex gap-4",children:[(0,s.jsx)("input",{...f("email"),type:"text",className:"block w-full rounded-md border-0 py-1.5 px-5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"you@example.com"}),(0,s.jsx)(d.Z,{children:"Add"})]}),(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:null===(t=x.email)||void 0===t?void 0:t.message}),n?(0,s.jsx)("p",{className:"mt-1 text-sm text-green-600",children:"Friend request sent!"}):null]})}},9977:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(7437),s=n(992),a=n(7404),i=n(6264);let o=(0,a.j)("active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-color focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-orange-800 text-white hover:bg-orange-700",ghost:"bg-transparent hover:text-black-900 hover:bg-black-200"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-2",lg:"h-11 px-8"}},defaultVariants:{variant:"default",size:"default"}});t.Z=e=>{let{className:t,children:n,variant:a,isLoading:l,size:c,...d}=e;return(0,r.jsxs)("button",{className:(0,s.cn)(o({variant:a,size:c,className:t})),disabled:l,...d,children:[l?(0,r.jsx)(i.Z,{className:"mr-2 h-4 w-4 animate-spin"}):null,n]})}},992:function(e,t,n){"use strict";n.d(t,{M:function(){return chatHrefConstructor},cn:function(){return cn},h:function(){return toPusherKey}});var r=n(348),s=n(3986);function cn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m)((0,r.W)(t))}function toPusherKey(e){return e.replace(/:/g,"__")}function chatHrefConstructor(e,t){let n=[e,t].sort();return"".concat(n[0],"--").concat(n[1])}}},function(e){e.O(0,[135,133,222,466,971,864,744],function(){return e(e.s=3692)}),_N_E=e.O()}]);