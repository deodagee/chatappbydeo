(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[714],{8924:function(){},5024:function(){},2549:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(2898);let s=(0,r.Z)("X",[["line",{x1:"18",y1:"6",x2:"6",y2:"18",key:"1o5bob"}],["line",{x1:"6",y1:"6",x2:"18",y2:"18",key:"z4dcbv"}]])},7288:function(e,n,t){Promise.resolve().then(t.t.bind(t,3388,23)),Promise.resolve().then(t.bind(t,6474))},6474:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return components_FriendRequests}});var r=t(7437),s=t(9665),i=t(992),c=t(9222),d=t(2898);let o=(0,d.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",y1:"8",x2:"19",y2:"14",key:"9s353q"}],["line",{x1:"22",y1:"11",x2:"16",y2:"11",key:"8bk570"}]]),a=(0,d.Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]);var u=t(2549),l=t(4033),f=t(2265),h=t(584),_=t.n(h),components_FriendRequests=e=>{let{incomingFriendRequests:n,sessionId:t}=e,d=(0,l.useRouter)(),[h,m]=(0,f.useState)(n);(0,f.useEffect)(()=>{s.b.subscribe((0,i.h)("user:".concat(t,":incoming_friend_requests"))),console.log("listening to ","user:".concat(t,":incoming_friend_requests"));let friendRequestHandler=e=>{let{senderId:n,senderEmail:t}=e;console.log("function got called"),m(e=>[...e,{senderId:n,senderEmail:t}])};return s.b.bind("incoming_friend_requests",friendRequestHandler),()=>{s.b.unsubscribe((0,i.h)("user:".concat(t,":incoming_friend_requests"))),s.b.unbind("incoming_friend_requests",friendRequestHandler)}},[t]);let acceptFriend=async e=>{await c.default.post("/api/friends/accept",{id:e}),m(n=>n.filter(n=>n.senderId!==e)),d.refresh()},denyFriend=async e=>{await c.default.post("/api/friends/deny",{id:e}),m(n=>n.filter(n=>n.senderId!==e)),d.refresh()};return(0,r.jsx)(r.Fragment,{children:0===h.length?(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-zinc-500",children:"Nothing Here Yet..."}),(0,r.jsx)("p",{className:_().add_a_friend,children:"Add A Friend With A Google Account !"})]}):h.map(e=>(0,r.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,r.jsx)(o,{className:"text-black"}),(0,r.jsx)("p",{className:"font-medium text-lg",children:e.senderEmail}),(0,r.jsx)("button",{onClick:()=>acceptFriend(e.senderId),"aria-label":"accept friend",className:"w-8 h-8 bg-indigo-600 hover:bg-indigo-700 grid place-items-center rounded-full transition hover:shadow-md",children:(0,r.jsx)(a,{className:"font-semibold text-white w-3/4 h-3/4"})}),(0,r.jsx)("button",{onClick:()=>denyFriend(e.senderId),"aria-label":"deny friend",className:"w-8 h-8 bg-red-600 hover:bg-red-700 grid place-items-center rounded-full transition hover:shadow-md",children:(0,r.jsx)(u.Z,{className:"font-semibold text-white w-3/4 h-3/4"})})]},e.senderId))})}},9665:function(e,n,t){"use strict";t.d(n,{b:function(){return o}});var r=t(9331),s=t.n(r),i=t(7965),c=t.n(i),d=t(2601);new(s())({appId:d.env.PUSHER_APP_ID,key:"93f5d985ede86198e0c7",secret:d.env.PUSHER_APP_SECRET,cluster:"mt1",useTLS:!0});let o=new(c())("93f5d985ede86198e0c7",{cluster:"mt1"})},992:function(e,n,t){"use strict";t.d(n,{M:function(){return chatHrefConstructor},cn:function(){return cn},h:function(){return toPusherKey}});var r=t(348),s=t(3986);function cn(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,s.m)((0,r.W)(n))}function toPusherKey(e){return e.replace(/:/g,"__")}function chatHrefConstructor(e,n){let t=[e,n].sort();return"".concat(t[0],"--").concat(t[1])}},584:function(e){e.exports={add_a_friend:"requests_add_a_friend__EFe7w",made_by:"requests_made_by__yz_Xa"}},4033:function(e,n,t){e.exports=t(290)}},function(e){e.O(0,[218,135,133,620,222,971,864,744],function(){return e(e.s=7288)}),_N_E=e.O()}]);