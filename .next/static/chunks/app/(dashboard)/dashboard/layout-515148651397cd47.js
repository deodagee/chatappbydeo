(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[980],{8924:function(){},5024:function(){},2549:function(n,s,o){"use strict";o.d(s,{Z:function(){return a}});var l=o(2898);let a=(0,l.Z)("X",[["line",{x1:"18",y1:"6",x2:"6",y2:"18",key:"1o5bob"}],["line",{x1:"6",y1:"6",x2:"18",y2:"18",key:"z4dcbv"}]])},3150:function(n,s,o){Promise.resolve().then(o.t.bind(o,6964,23)),Promise.resolve().then(o.t.bind(o,4724,23)),Promise.resolve().then(o.t.bind(o,3388,23)),Promise.resolve().then(o.bind(o,7787)),Promise.resolve().then(o.bind(o,9769)),Promise.resolve().then(o.bind(o,5118)),Promise.resolve().then(o.bind(o,6307)),Promise.resolve().then(o.t.bind(o,1289,23)),Promise.resolve().then(o.t.bind(o,584,23))},7787:function(n,s,o){"use strict";o.r(s),o.d(s,{default:function(){return components_FriendRequestSidebarOptions}});var l=o(7437),a=o(9665),d=o(992),m=o(1396),p=o.n(m),h=o(2265),_=o(6691),b=o.n(_),x=o(1289),y=o.n(x),components_Icons2=function(){return(0,l.jsx)("div",{className:y().image_wrapper,children:(0,l.jsx)(b(),{className:y().logo_front,width:100,height:100,alt:"image",src:"/logored2.png"})})},components_FriendRequestSidebarOptions=n=>{let{sessionId:s,initialUnseenRequestCount:o}=n,[m,_]=(0,h.useState)(o);return(0,h.useEffect)(()=>{a.b.subscribe((0,d.h)("user:".concat(s,":incoming_friend_requests"))),a.b.subscribe((0,d.h)("user:".concat(s,":friends")));let friendRequestHandler=()=>{_(n=>n+1)},addedFriendHandler=()=>{_(n=>n-1)};return a.b.bind("incoming_friend_requests",friendRequestHandler),a.b.bind("new_friend",addedFriendHandler),()=>{a.b.unsubscribe((0,d.h)("user:".concat(s,":incoming_friend_requests"))),a.b.unsubscribe((0,d.h)("user:".concat(s,":friends"))),a.b.unbind("new_friend",addedFriendHandler),a.b.unbind("incoming_friend_requests",friendRequestHandler)}},[s]),(0,l.jsxs)(p(),{href:"/dashboard/requests",className:"text-gray-700 hover:text-indigo-600 hover:bg-gray-50 group flex items-center gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold",children:[(0,l.jsx)("div",{children:(0,l.jsx)(components_Icons2,{})}),(0,l.jsx)("p",{className:"truncate",children:"Friend Requests"}),m>0?(0,l.jsx)("div",{className:"rounded-full w-5 h-5 text-xs flex justify-center items-center text-white bg-indigo-600",children:m}):null]})}},9769:function(n,s,o){"use strict";let l,a;o.r(s),o.d(s,{default:function(){return components_MobileChatLayout}});var d,m,p,h,_,b,x,y,w,E,S,T,j,F,L,k,M,A,H=o(7437),I=o(2265),q=o.t(I,2);function class_names_t(...n){return Array.from(new Set(n.flatMap(n=>"string"==typeof n?n.split(" "):[]))).filter(Boolean).join(" ")}function match_u(n,s,...o){if(n in s){let l=s[n];return"function"==typeof l?l(...o):l}let l=Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(s).map(n=>`"${n}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,match_u),l}var B=((d=B||{})[d.None=0]="None",d[d.RenderStrategy=1]="RenderStrategy",d[d.Static=2]="Static",d),$=((m=$||{})[m.Unmount=0]="Unmount",m[m.Hidden=1]="Hidden",m);function render_X({ourProps:n,theirProps:s,slot:o,defaultTag:l,features:a,visible:d=!0,name:m}){let p=N(s,n);if(d)return c(p,o,l,m);let h=null!=a?a:0;if(2&h){let{static:n=!1,...s}=p;if(n)return c(s,o,l,m)}if(1&h){let{unmount:n=!0,...s}=p;return match_u(n?0:1,{0:()=>null,1:()=>c({...s,hidden:!0,style:{display:"none"}},o,l,m)})}return c(p,o,l,m)}function c(n,s={},o,l){let{as:a=o,children:d,refName:m="ref",...p}=g(n,["unmount","static"]),h=void 0!==n.ref?{[m]:n.ref}:{},_="function"==typeof d?d(s):d;"className"in p&&p.className&&"function"==typeof p.className&&(p.className=p.className(s));let b={};if(s){let n=!1,o=[];for(let[l,a]of Object.entries(s))"boolean"==typeof a&&(n=!0),!0===a&&o.push(l);n&&(b["data-headlessui-state"]=o.join(" "))}if(a===I.Fragment&&Object.keys(R(p)).length>0){if(!(0,I.isValidElement)(_)||Array.isArray(_)&&_.length>1)throw Error(['Passing props on "Fragment"!',"",`The current component <${l} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(p).map(n=>`  - ${n}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(n=>`  - ${n}`).join(`
`)].join(`
`));let n=_.props,s="function"==typeof(null==n?void 0:n.className)?(...s)=>class_names_t(null==n?void 0:n.className(...s),p.className):class_names_t(null==n?void 0:n.className,p.className),o=s?{className:s}:{};return(0,I.cloneElement)(_,Object.assign({},N(_.props,R(g(p,["ref"]))),b,h,function(...n){return{ref:n.every(n=>null==n)?void 0:s=>{for(let o of n)null!=o&&("function"==typeof o?o(s):o.current=s)}}}(_.ref,h.ref),o))}return(0,I.createElement)(a,Object.assign({},g(p,["ref"]),a!==I.Fragment&&h,a!==I.Fragment&&b),_)}function N(...n){if(0===n.length)return{};if(1===n.length)return n[0];let s={},o={};for(let l of n)for(let n in l)n.startsWith("on")&&"function"==typeof l[n]?(null!=o[n]||(o[n]=[]),o[n].push(l[n])):s[n]=l[n];if(s.disabled||s["aria-disabled"])return Object.assign(s,Object.fromEntries(Object.keys(o).map(n=>[n,void 0])));for(let n in o)Object.assign(s,{[n](s,...l){for(let a of o[n]){if((s instanceof Event||(null==s?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;a(s,...l)}}});return s}function D(n){var s;return Object.assign((0,I.forwardRef)(n),{displayName:null!=(s=n.displayName)?s:n.name})}function R(n){let s=Object.assign({},n);for(let n in s)void 0===s[n]&&delete s[n];return s}function g(n,s=[]){let o=Object.assign({},n);for(let n of s)n in o&&delete o[n];return o}let X=(0,I.createContext)(null);X.displayName="OpenClosedContext";var V=((p=V||{})[p.Open=1]="Open",p[p.Closed=2]="Closed",p[p.Closing=4]="Closing",p[p.Opening=8]="Opening",p);function C(){return(0,I.useContext)(X)}function open_closed_c({value:n,children:s}){return I.createElement(X.Provider,{value:n},s)}var W=Object.defineProperty,env_d=(n,s,o)=>s in n?W(n,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[s]=o,r=(n,s,o)=>(env_d(n,"symbol"!=typeof s?s+"":s,o),o);let Y=new class{constructor(){r(this,"current",this.detect()),r(this,"handoffState","pending"),r(this,"currentId",0)}set(n){this.current!==n&&(this.handoffState="pending",this.currentId=0,this.current=n)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},use_iso_morphic_effect_l=(n,s)=>{Y.isServer?(0,I.useEffect)(n,s):(0,I.useLayoutEffect)(n,s)};function f(){let n=(0,I.useRef)(!1);return use_iso_morphic_effect_l(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function use_latest_value_s(n){let s=(0,I.useRef)(n);return use_iso_morphic_effect_l(()=>{s.current=n},[n]),s}function use_server_handoff_complete_l(){let n;let s=(n="undefined"==typeof document,(0,q.useSyncExternalStore)(()=>()=>{},()=>!1,()=>!n)),[o,l]=I.useState(Y.isHandoffComplete);return o&&!1===Y.isHandoffComplete&&l(!1),I.useEffect(()=>{!0!==o&&l(!0)},[o]),I.useEffect(()=>Y.handoff(),[]),!s&&o}let use_event_o=function(n){let s=use_latest_value_s(n);return I.useCallback((...n)=>s.current(...n),[s])},z=Symbol();function use_sync_refs_y(...n){let s=(0,I.useRef)(n);(0,I.useEffect)(()=>{s.current=n},[n]);let o=use_event_o(n=>{for(let o of s.current)null!=o&&("function"==typeof o?o(n):o.current=n)});return n.every(n=>null==n||(null==n?void 0:n[z]))?void 0:o}function micro_task_t(n){"function"==typeof queueMicrotask?queueMicrotask(n):Promise.resolve().then(n).catch(n=>setTimeout(()=>{throw n}))}function disposables_o(){let n=[],s={addEventListener:(n,o,l,a)=>(n.addEventListener(o,l,a),s.add(()=>n.removeEventListener(o,l,a))),requestAnimationFrame(...n){let o=requestAnimationFrame(...n);return s.add(()=>cancelAnimationFrame(o))},nextFrame:(...n)=>s.requestAnimationFrame(()=>s.requestAnimationFrame(...n)),setTimeout(...n){let o=setTimeout(...n);return s.add(()=>clearTimeout(o))},microTask(...n){let o={current:!0};return micro_task_t(()=>{o.current&&n[0]()}),s.add(()=>{o.current=!1})},style(n,s,o){let l=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:o}),this.add(()=>{Object.assign(n.style,{[s]:l})})},group(n){let s=disposables_o();return n(s),this.add(()=>s.dispose())},add:s=>(n.push(s),()=>{let o=n.indexOf(s);if(o>=0)for(let s of n.splice(o,1))s()}),dispose(){for(let s of n.splice(0))s()}};return s}function transition_g(n,...s){n&&s.length>0&&n.classList.add(...s)}function v(n,...s){n&&s.length>0&&n.classList.remove(...s)}function use_disposables_p(){let[n]=(0,I.useState)(disposables_o);return(0,I.useEffect)(()=>()=>n.dispose(),[n]),n}function transition_S(n=""){return n.split(" ").filter(n=>n.trim().length>1)}let Z=(0,I.createContext)(null);Z.displayName="TransitionContext";var K=((h=K||{}).Visible="visible",h.Hidden="hidden",h);let G=(0,I.createContext)(null);function U(n){return"children"in n?U(n.children):n.current.filter(({el:n})=>null!==n.current).filter(({state:n})=>"visible"===n).length>0}function oe(n,s){let o=use_latest_value_s(n),l=(0,I.useRef)([]),a=f(),d=use_disposables_p(),m=use_event_o((n,s=$.Hidden)=>{let m=l.current.findIndex(({el:s})=>s===n);-1!==m&&(match_u(s,{[$.Unmount](){l.current.splice(m,1)},[$.Hidden](){l.current[m].state="hidden"}}),d.microTask(()=>{var n;!U(l)&&a.current&&(null==(n=o.current)||n.call(o))}))}),p=use_event_o(n=>{let s=l.current.find(({el:s})=>s===n);return s?"visible"!==s.state&&(s.state="visible"):l.current.push({el:n,state:"visible"}),()=>m(n,$.Unmount)}),h=(0,I.useRef)([]),_=(0,I.useRef)(Promise.resolve()),b=(0,I.useRef)({enter:[],leave:[],idle:[]}),x=use_event_o((n,o,l)=>{h.current.splice(0),s&&(s.chains.current[o]=s.chains.current[o].filter(([s])=>s!==n)),null==s||s.chains.current[o].push([n,new Promise(n=>{h.current.push(n)})]),null==s||s.chains.current[o].push([n,new Promise(n=>{Promise.all(b.current[o].map(([n,s])=>s)).then(()=>n())})]),"enter"===o?_.current=_.current.then(()=>null==s?void 0:s.wait.current).then(()=>l(o)):l(o)}),y=use_event_o((n,s,o)=>{Promise.all(b.current[s].splice(0).map(([n,s])=>s)).then(()=>{var n;null==(n=h.current.shift())||n()}).then(()=>o(s))});return(0,I.useMemo)(()=>({children:l,register:p,unregister:m,onStart:x,onStop:y,wait:_,chains:b}),[p,m,l,x,y,b,_])}function xe(){}G.displayName="NestingContext";let J=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function se(n){var s;let o={};for(let l of J)o[l]=null!=(s=n[l])?s:xe;return o}let Q=B.RenderStrategy,ee=D(function(n,s){let{show:o,appear:l=!1,unmount:a=!0,...d}=n,m=(0,I.useRef)(null),p=use_sync_refs_y(m,s);use_server_handoff_complete_l();let h=C();if(void 0===o&&null!==h&&(o=(h&V.Open)===V.Open),![!0,!1].includes(o))throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[_,b]=(0,I.useState)(o?"visible":"hidden"),x=oe(()=>{b("hidden")}),[y,w]=(0,I.useState)(!0),E=(0,I.useRef)([o]);use_iso_morphic_effect_l(()=>{!1!==y&&E.current[E.current.length-1]!==o&&(E.current.push(o),w(!1))},[E,o]);let S=(0,I.useMemo)(()=>({show:o,appear:l,initial:y}),[o,l,y]);(0,I.useEffect)(()=>{if(o)b("visible");else if(U(x)){let n=m.current;if(!n)return;let s=n.getBoundingClientRect();0===s.x&&0===s.y&&0===s.width&&0===s.height&&b("hidden")}else b("hidden")},[o,x]);let T={unmount:a},j=use_event_o(()=>{var s;y&&w(!1),null==(s=n.beforeEnter)||s.call(n)}),F=use_event_o(()=>{var s;y&&w(!1),null==(s=n.beforeLeave)||s.call(n)});return I.createElement(G.Provider,{value:x},I.createElement(Z.Provider,{value:S},render_X({ourProps:{...T,as:I.Fragment,children:I.createElement(et,{ref:p,...T,...d,beforeEnter:j,beforeLeave:F})},theirProps:{},defaultTag:I.Fragment,features:Q,visible:"visible"===_,name:"Transition"})))}),et=D(function(n,s){var o,l,a;let d;let{beforeEnter:m,afterEnter:p,beforeLeave:h,afterLeave:_,enter:b,enterFrom:x,enterTo:y,entered:w,leave:E,leaveFrom:S,leaveTo:T,...j}=n,F=(0,I.useRef)(null),L=use_sync_refs_y(F,s),k=null==(o=j.unmount)||o?$.Unmount:$.Hidden,{show:M,appear:A,initial:H}=function(){let n=(0,I.useContext)(Z);if(null===n)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}(),[q,B]=(0,I.useState)(M?"visible":"hidden"),X=function(){let n=(0,I.useContext)(G);if(null===n)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}(),{register:W,unregister:Y}=X;(0,I.useEffect)(()=>W(F),[W,F]),(0,I.useEffect)(()=>{if(k===$.Hidden&&F.current){if(M&&"visible"!==q){B("visible");return}return match_u(q,{hidden:()=>Y(F),visible:()=>W(F)})}},[q,F,W,Y,M,k]);let z=use_latest_value_s({base:transition_S(j.className),enter:transition_S(b),enterFrom:transition_S(x),enterTo:transition_S(y),entered:transition_S(w),leave:transition_S(E),leaveFrom:transition_S(S),leaveTo:transition_S(T)}),K=(a={beforeEnter:m,afterEnter:p,beforeLeave:h,afterLeave:_},d=(0,I.useRef)(se(a)),(0,I.useEffect)(()=>{d.current=se(a)},[a]),d),J=use_server_handoff_complete_l();(0,I.useEffect)(()=>{if(J&&"visible"===q&&null===F.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[F,q,J]);let ee=A&&M&&H,et=J&&(!H||A)?M?"enter":"leave":"idle",en=function(n=0){let[s,o]=(0,I.useState)(n),l=f(),a=(0,I.useCallback)(n=>{l.current&&o(s=>s|n)},[s,l]),d=(0,I.useCallback)(n=>!!(s&n),[s]);return{flags:s,addFlag:a,hasFlag:d,removeFlag:(0,I.useCallback)(n=>{l.current&&o(s=>s&~n)},[o,l]),toggleFlag:(0,I.useCallback)(n=>{l.current&&o(s=>s^n)},[o])}}(0),er=use_event_o(n=>match_u(n,{enter:()=>{en.addFlag(V.Opening),K.current.beforeEnter()},leave:()=>{en.addFlag(V.Closing),K.current.beforeLeave()},idle:()=>{}})),es=use_event_o(n=>match_u(n,{enter:()=>{en.removeFlag(V.Opening),K.current.afterEnter()},leave:()=>{en.removeFlag(V.Closing),K.current.afterLeave()},idle:()=>{}})),eo=oe(()=>{B("hidden"),Y(F)},X);!function({immediate:n,container:s,direction:o,classes:l,onStart:a,onStop:d}){let m=f(),p=use_disposables_p(),h=use_latest_value_s(o);use_iso_morphic_effect_l(()=>{n&&(h.current="enter")},[n]),use_iso_morphic_effect_l(()=>{let n=disposables_o();p.add(n.dispose);let o=s.current;if(o&&"idle"!==h.current&&m.current){var _,b,x;let s,m,p,y,w,E,S;return n.dispose(),a.current(h.current),n.add((_=l.current,b="enter"===h.current,x=()=>{n.dispose(),d.current(h.current)},m=b?"enter":"leave",p=disposables_o(),y=void 0!==x?(s={called:!1},(...n)=>{if(!s.called)return s.called=!0,x(...n)}):()=>{},"enter"===m&&(o.removeAttribute("hidden"),o.style.display=""),w=match_u(m,{enter:()=>_.enter,leave:()=>_.leave}),E=match_u(m,{enter:()=>_.enterTo,leave:()=>_.leaveTo}),S=match_u(m,{enter:()=>_.enterFrom,leave:()=>_.leaveFrom}),v(o,..._.base,..._.enter,..._.enterTo,..._.enterFrom,..._.leave,..._.leaveFrom,..._.leaveTo,..._.entered),transition_g(o,..._.base,...w,...S),p.nextFrame(()=>{v(o,..._.base,...w,...S),transition_g(o,..._.base,...w,...E),function(n,s){let o=disposables_o();if(!n)return o.dispose;let{transitionDuration:l,transitionDelay:a}=getComputedStyle(n),[d,m]=[l,a].map(n=>{let[s=0]=n.split(",").filter(Boolean).map(n=>n.includes("ms")?parseFloat(n):1e3*parseFloat(n)).sort((n,s)=>s-n);return s}),p=d+m;if(0!==p){o.group(o=>{o.setTimeout(()=>{s(),o.dispose()},p),o.addEventListener(n,"transitionrun",n=>{n.target===n.currentTarget&&o.dispose()})});let l=o.addEventListener(n,"transitionend",n=>{n.target===n.currentTarget&&(s(),l())})}else s();o.add(()=>s()),o.dispose}(o,()=>(v(o,..._.base,...w),transition_g(o,..._.base,..._.entered),y()))}),p.dispose)),n.dispose}},[o])}({immediate:ee,container:F,classes:z,direction:et,onStart:use_latest_value_s(n=>{eo.onStart(F,n,er)}),onStop:use_latest_value_s(n=>{eo.onStop(F,n,es),"leave"!==n||U(eo)||(B("hidden"),Y(F))})});let ei=j;return ee?ei={...ei,className:class_names_t(j.className,...z.current.enter,...z.current.enterFrom)}:(ei.className=class_names_t(j.className,null==(l=F.current)?void 0:l.className),""===ei.className&&delete ei.className),I.createElement(G.Provider,{value:eo},I.createElement(open_closed_c,{value:match_u(q,{visible:V.Open,hidden:V.Closed})|en.flags},render_X({ourProps:{ref:L},theirProps:ei,defaultTag:"div",features:Q,visible:"visible"===q,name:"Transition.Child"})))}),en=D(function(n,s){let o=null!==(0,I.useContext)(Z),l=null!==C();return I.createElement(I.Fragment,null,!o&&l?I.createElement(ee,{ref:s,...n}):I.createElement(et,{ref:s,...n}))}),er=Object.assign(ee,{Child:en,Root:ee});var es=((_=es||{}).Space=" ",_.Enter="Enter",_.Escape="Escape",_.Backspace="Backspace",_.Delete="Delete",_.ArrowLeft="ArrowLeft",_.ArrowUp="ArrowUp",_.ArrowRight="ArrowRight",_.ArrowDown="ArrowDown",_.Home="Home",_.End="End",_.PageUp="PageUp",_.PageDown="PageDown",_.Tab="Tab",_);let eo=null!=(A=I.useId)?A:function(){let n=use_server_handoff_complete_l(),[s,o]=I.useState(n?()=>Y.nextId():null);return use_iso_morphic_effect_l(()=>{null===s&&o(Y.nextId())},[s]),null!=s?""+s:void 0};var ei=((b=ei||{})[b.None=1]="None",b[b.Focusable=2]="Focusable",b[b.Hidden=4]="Hidden",b);let el=D(function(n,s){let{features:o=1,...l}=n;return render_X({ourProps:{ref:s,"aria-hidden":(2&o)==2||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&o)==4&&(2&o)!=2&&{display:"none"}}},theirProps:l,slot:{},defaultTag:"div",name:"Hidden"})});function owner_e(n){return Y.isServer?null:n instanceof Node?n.ownerDocument:null!=n&&n.hasOwnProperty("current")&&n.current instanceof Node?n.current.ownerDocument:document}let ea=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var eu=((x=eu||{})[x.First=1]="First",x[x.Previous=2]="Previous",x[x.Next=4]="Next",x[x.Last=8]="Last",x[x.WrapAround=16]="WrapAround",x[x.NoScroll=32]="NoScroll",x),ec=((y=ec||{})[y.Error=0]="Error",y[y.Overflow=1]="Overflow",y[y.Success=2]="Success",y[y.Underflow=3]="Underflow",y),ed=((w=ed||{})[w.Previous=-1]="Previous",w[w.Next=1]="Next",w),ef=((E=ef||{})[E.Strict=0]="Strict",E[E.Loose=1]="Loose",E),em=((S=em||{})[S.Keyboard=0]="Keyboard",S[S.Mouse=1]="Mouse",S);function focus_management_y(n){null==n||n.focus({preventScroll:!0})}function O(n,s,{sorted:o=!0,relativeTo:l=null,skipElements:a=[]}={}){var d,m,p;let h=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,_=Array.isArray(n)?o?function(n,s=n=>n){return n.slice().sort((n,o)=>{let l=s(n),a=s(o);if(null===l||null===a)return 0;let d=l.compareDocumentPosition(a);return d&Node.DOCUMENT_POSITION_FOLLOWING?-1:d&Node.DOCUMENT_POSITION_PRECEDING?1:0})}(n):n:function(n=document.body){return null==n?[]:Array.from(n.querySelectorAll(ea)).sort((n,s)=>Math.sign((n.tabIndex||Number.MAX_SAFE_INTEGER)-(s.tabIndex||Number.MAX_SAFE_INTEGER)))}(n);a.length>0&&_.length>1&&(_=_.filter(n=>!a.includes(n))),l=null!=l?l:h.activeElement;let b=(()=>{if(5&s)return 1;if(10&s)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),x=(()=>{if(1&s)return 0;if(2&s)return Math.max(0,_.indexOf(l))-1;if(4&s)return Math.max(0,_.indexOf(l))+1;if(8&s)return _.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),y=32&s?{preventScroll:!0}:{},w=0,E=_.length,S;do{if(w>=E||w+E<=0)return 0;let n=x+w;if(16&s)n=(n+E)%E;else{if(n<0)return 3;if(n>=E)return 1}null==(S=_[n])||S.focus(y),w+=b}while(S!==h.activeElement);return 6&s&&null!=(p=null==(m=null==(d=S)?void 0:d.matches)?void 0:m.call(d,"textarea,input"))&&p&&S.select(),2}function use_window_event_s(n,s,o){let l=use_latest_value_s(s);(0,I.useEffect)(()=>{function t(n){l.current(n)}return window.addEventListener(n,t,o),()=>window.removeEventListener(n,t,o)},[n,o])}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{1===n.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===n.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));var ep=((T=ep||{})[T.Forwards=0]="Forwards",T[T.Backwards=1]="Backwards",T);function use_owner_n(...n){return(0,I.useMemo)(()=>owner_e(...n),[...n])}function use_event_listener_E(n,s,o,l){let a=use_latest_value_s(o);(0,I.useEffect)(()=>{function r(n){a.current(n)}return(n=null!=n?n:window).addEventListener(s,r,l),()=>n.removeEventListener(s,r,l)},[n,s,l])}function use_watch_m(n,s){let o=(0,I.useRef)([]),l=use_event_o(n);(0,I.useEffect)(()=>{let n=[...o.current];for(let[a,d]of s.entries())if(o.current[a]!==d){let a=l(s,n);return o.current=s,a}},[l,...s])}function use_on_unmount_c(n){let s=use_event_o(n),o=(0,I.useRef)(!1);(0,I.useEffect)(()=>(o.current=!1,()=>{o.current=!0,micro_task_t(()=>{o.current&&s()})}),[s])}function P(n){if(!n)return new Set;if("function"==typeof n)return new Set(n());let s=new Set;for(let o of n.current)o.current instanceof HTMLElement&&s.add(o.current);return s}var eh=((j=eh||{})[j.None=1]="None",j[j.InitialFocus=2]="InitialFocus",j[j.TabLock=4]="TabLock",j[j.FocusLock=8]="FocusLock",j[j.RestoreFocus=16]="RestoreFocus",j[j.All=30]="All",j);let e_=Object.assign(D(function(n,s){let o,l=(0,I.useRef)(null),a=use_sync_refs_y(l,s),{initialFocus:d,containers:m,features:p=30,...h}=n;use_server_handoff_complete_l()||(p=1);let _=use_owner_n(l);!function({ownerDocument:n},s){let o=function(n=!0){let s=(0,I.useRef)(ev.slice());return use_watch_m(([n],[o])=>{!0===o&&!1===n&&micro_task_t(()=>{s.current.splice(0)}),!1===o&&!0===n&&(s.current=ev.slice())},[n,ev,s]),use_event_o(()=>{var n;return null!=(n=s.current.find(n=>null!=n&&n.isConnected))?n:null})}(s);use_watch_m(()=>{s||(null==n?void 0:n.activeElement)===(null==n?void 0:n.body)&&focus_management_y(o())},[s]),use_on_unmount_c(()=>{s&&focus_management_y(o())})}({ownerDocument:_},!!(16&p));let b=function({ownerDocument:n,container:s,initialFocus:o},l){let a=(0,I.useRef)(null),d=f();return use_watch_m(()=>{if(!l)return;let m=s.current;m&&micro_task_t(()=>{if(!d.current)return;let s=null==n?void 0:n.activeElement;if(null!=o&&o.current){if((null==o?void 0:o.current)===s){a.current=s;return}}else if(m.contains(s)){a.current=s;return}null!=o&&o.current?focus_management_y(o.current):O(m,eu.First)===ec.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=null==n?void 0:n.activeElement})},[l]),a}({ownerDocument:_,container:l,initialFocus:d},!!(2&p));!function({ownerDocument:n,container:s,containers:o,previousActiveElement:l},a){let d=f();use_event_listener_E(null==n?void 0:n.defaultView,"focus",n=>{if(!a||!d.current)return;let m=P(o);s.current instanceof HTMLElement&&m.add(s.current);let p=l.current;if(!p)return;let h=n.target;h&&h instanceof HTMLElement?focus_trap_S(m,h)?(l.current=h,focus_management_y(h)):(n.preventDefault(),n.stopPropagation(),focus_management_y(p)):focus_management_y(l.current)},!0)}({ownerDocument:_,container:l,containers:m,previousActiveElement:b},!!(8&p));let x=(o=(0,I.useRef)(0),use_window_event_s("keydown",n=>{"Tab"===n.key&&(o.current=n.shiftKey?1:0)},!0),o),y=use_event_o(n=>{let s=l.current;s&&match_u(x.current,{[ep.Forwards]:()=>{O(s,eu.First,{skipElements:[n.relatedTarget]})},[ep.Backwards]:()=>{O(s,eu.Last,{skipElements:[n.relatedTarget]})}})}),w=use_disposables_p(),E=(0,I.useRef)(!1);return I.createElement(I.Fragment,null,!!(4&p)&&I.createElement(el,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:ei.Focusable}),render_X({ourProps:{ref:a,onKeyDown(n){"Tab"==n.key&&(E.current=!0,w.requestAnimationFrame(()=>{E.current=!1}))},onBlur(n){let s=P(m);l.current instanceof HTMLElement&&s.add(l.current);let o=n.relatedTarget;o instanceof HTMLElement&&"true"!==o.dataset.headlessuiFocusGuard&&(focus_trap_S(s,o)||(E.current?O(l.current,match_u(x.current,{[ep.Forwards]:()=>eu.Next,[ep.Backwards]:()=>eu.Previous})|eu.WrapAround,{relativeTo:n.target}):n.target instanceof HTMLElement&&focus_management_y(n.target)))}},theirProps:h,defaultTag:"div",name:"FocusTrap"}),!!(4&p)&&I.createElement(el,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:ei.Focusable}))}),{features:eh}),ev=[];function focus_trap_S(n,s){for(let o of n)if(o.contains(s))return!0;return!1}!function(n){function e(){"loading"!==document.readyState&&(n(),document.removeEventListener("DOMContentLoaded",e))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",e),e())}(()=>{function t(n){n.target instanceof HTMLElement&&n.target!==document.body&&ev[0]!==n.target&&(ev.unshift(n.target),(ev=ev.filter(n=>null!=n&&n.isConnected)).splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});var eg=o(4887);let eb=(0,I.createContext)(!1);function portal_force_root_P(n){return I.createElement(eb.Provider,{value:n.force},n.children)}let ex=I.Fragment,ey=I.Fragment,ew=(0,I.createContext)(null),eE=(0,I.createContext)(null),eN=Object.assign(D(function(n,s){let o=(0,I.useRef)(null),l=use_sync_refs_y(function(n,s=!0){return Object.assign(n,{[z]:s})}(n=>{o.current=n}),s),a=use_owner_n(o),d=function(n){let s=(0,I.useContext)(eb),o=(0,I.useContext)(ew),l=use_owner_n(n),[a,d]=(0,I.useState)(()=>{if(!s&&null!==o||Y.isServer)return null;let n=null==l?void 0:l.getElementById("headlessui-portal-root");if(n)return n;if(null===l)return null;let a=l.createElement("div");return a.setAttribute("id","headlessui-portal-root"),l.body.appendChild(a)});return(0,I.useEffect)(()=>{null!==a&&(null!=l&&l.body.contains(a)||null==l||l.body.appendChild(a))},[a,l]),(0,I.useEffect)(()=>{s||null!==o&&d(o.current)},[o,d,s]),a}(o),[m]=(0,I.useState)(()=>{var n;return Y.isServer?null:null!=(n=null==a?void 0:a.createElement("div"))?n:null}),p=(0,I.useContext)(eE),h=use_server_handoff_complete_l();return use_iso_morphic_effect_l(()=>{!d||!m||d.contains(m)||(m.setAttribute("data-headlessui-portal",""),d.appendChild(m))},[d,m]),use_iso_morphic_effect_l(()=>{if(m&&p)return p.register(m)},[p,m]),use_on_unmount_c(()=>{var n;d&&m&&(m instanceof Node&&d.contains(m)&&d.removeChild(m),d.childNodes.length<=0&&(null==(n=d.parentElement)||n.removeChild(d)))}),h&&d&&m?(0,eg.createPortal)(render_X({ourProps:{ref:l},theirProps:n,defaultTag:ex,name:"Portal"}),m):null}),{Group:D(function(n,s){let{target:o,...l}=n,a={ref:use_sync_refs_y(s)};return I.createElement(ew.Provider,{value:o},render_X({ourProps:a,theirProps:l,defaultTag:ey,name:"Popover.Group"}))})}),eS=(0,I.createContext)(null),eT=Object.assign(D(function(n,s){let o=eo(),{id:l=`headlessui-description-${o}`,...a}=n,d=function description_f(){let n=(0,I.useContext)(eS);if(null===n){let n=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,description_f),n}return n}(),m=use_sync_refs_y(s);return use_iso_morphic_effect_l(()=>d.register(l),[l,d.register]),render_X({ourProps:{ref:m,...d.props,id:l},theirProps:a,slot:d.slot||{},defaultTag:"p",name:d.name||"Description"})}),{}),eP=(0,I.createContext)(()=>{});eP.displayName="StackContext";var ej=((F=ej||{})[F.Add=0]="Add",F[F.Remove=1]="Remove",F);function stack_context_M({children:n,onUpdate:s,type:o,element:l,enabled:a}){let d=(0,I.useContext)(eP),m=use_event_o((...n)=>{null==s||s(...n),d(...n)});return use_iso_morphic_effect_l(()=>{let n=void 0===a||!0===a;return n&&m(0,o,l),()=>{n&&m(1,o,l)}},[m,o,l,a]),I.createElement(eP.Provider,{value:m},n)}function use_document_event_d(n,s,o){let l=use_latest_value_s(s);(0,I.useEffect)(()=>{function t(n){l.current(n)}return document.addEventListener(n,t,o),()=>document.removeEventListener(n,t,o)},[n,o])}let{useState:eC,useEffect:eF,useLayoutEffect:eL,useDebugValue:ek}=q;"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;let eO=q.useSyncExternalStore,eR=(L={PUSH(n,s){var o;let l=null!=(o=this.get(n))?o:{doc:n,count:0,d:disposables_o(),meta:new Set};return l.count++,l.meta.add(s),this.set(n,l),this},POP(n,s){let o=this.get(n);return o&&(o.count--,o.meta.delete(s)),this},SCROLL_PREVENT({doc:n,d:s,meta:o}){let l,a;let d={doc:n,d:s,meta:function(n){let s={};for(let o of n)Object.assign(s,o(s));return s}(o)},m=[/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0?{before(){l=window.pageYOffset},after({doc:n,d:s,meta:o}){function i(n){return o.containers.flatMap(n=>n()).some(s=>s.contains(n))}s.microTask(()=>{if("auto"!==window.getComputedStyle(n.documentElement).scrollBehavior){let o=disposables_o();o.style(n.documentElement,"scroll-behavior","auto"),s.add(()=>s.microTask(()=>o.dispose()))}s.style(n.body,"marginTop",`-${l}px`),window.scrollTo(0,0);let o=null;s.addEventListener(n,"click",s=>{if(s.target instanceof HTMLElement)try{let l=s.target.closest("a");if(!l)return;let{hash:a}=new URL(l.href),d=n.querySelector(a);d&&!i(d)&&(o=d)}catch{}},!0),s.addEventListener(n,"touchmove",n=>{n.target instanceof HTMLElement&&!i(n.target)&&n.preventDefault()},{passive:!1}),s.add(()=>{window.scrollTo(0,window.pageYOffset+l),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{},{before({doc:n}){var s;let o=n.documentElement;a=(null!=(s=n.defaultView)?s:window).innerWidth-o.clientWidth},after({doc:n,d:s}){let o=n.documentElement,l=o.clientWidth-o.offsetWidth,d=a-l;s.style(o,"paddingRight",`${d}px`)}},{before({doc:n,d:s}){s.style(n.documentElement,"overflow","hidden")}}];m.forEach(({before:n})=>null==n?void 0:n(d)),m.forEach(({after:n})=>null==n?void 0:n(d))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}},l=new Map,a=new Set,{getSnapshot:()=>l,subscribe:n=>(a.add(n),()=>a.delete(n)),dispatch(n,...s){let o=L[n].call(l,...s);o&&(l=o,a.forEach(n=>n()))}});eR.subscribe(()=>{let n=eR.getSnapshot(),s=new Map;for(let[o]of n)s.set(o,o.documentElement.style.overflow);for(let o of n.values()){let n="hidden"===s.get(o.doc),l=0!==o.count;(l&&!n||!l&&n)&&eR.dispatch(o.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",o),0===o.count&&eR.dispatch("TEARDOWN",o)}});let eD=new Map,eM=new Map;function use_inert_h(n,s=!0){use_iso_morphic_effect_l(()=>{var o;if(!s)return;let l="function"==typeof n?n():n.current;if(!l)return;let a=null!=(o=eM.get(l))?o:0;return eM.set(l,a+1),0!==a||(eD.set(l,{"aria-hidden":l.getAttribute("aria-hidden"),inert:l.inert}),l.setAttribute("aria-hidden","true"),l.inert=!0),function(){var n;if(!l)return;let s=null!=(n=eM.get(l))?n:1;if(1===s?eM.delete(l):eM.set(l,s-1),1!==s)return;let o=eD.get(l);o&&(null===o["aria-hidden"]?l.removeAttribute("aria-hidden"):l.setAttribute("aria-hidden",o["aria-hidden"]),l.inert=o.inert,eD.delete(l))}},[n,s])}var eA=((k=eA||{})[k.Open=0]="Open",k[k.Closed=1]="Closed",k),eH=((M=eH||{})[M.SetTitleId=0]="SetTitleId",M);let eI={0:(n,s)=>n.titleId===s.id?n:{...n,titleId:s.id}},eq=(0,I.createContext)(null);function dialog_b(n){let s=(0,I.useContext)(eq);if(null===s){let s=Error(`<${n} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,dialog_b),s}return s}function Be(n,s){return match_u(s.type,eI,n,s)}eq.displayName="DialogContext";let eU=B.RenderStrategy|B.Static,eB=Object.assign(D(function(n,s){var o;let l,a,d,m,p;let h=eo(),{id:_=`headlessui-dialog-${h}`,open:b,onClose:x,initialFocus:y,__demoMode:w=!1,...E}=n,[S,T]=(0,I.useState)(0),j=C();void 0===b&&null!==j&&(b=(j&V.Open)===V.Open);let F=(0,I.useRef)(null),L=use_sync_refs_y(F,s),k=use_owner_n(F),M=n.hasOwnProperty("open")||null!==j,A=n.hasOwnProperty("onClose");if(!M&&!A)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!M)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!A)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof b)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${b}`);if("function"!=typeof x)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${x}`);let H=b?0:1,[q,B]=(0,I.useReducer)(Be,{titleId:null,descriptionId:null,panelRef:(0,I.createRef)()}),$=use_event_o(()=>x(!1)),X=use_event_o(n=>B({type:0,id:n})),W=!!use_server_handoff_complete_l()&&!w&&0===H,Y=S>1,z=null!==(0,I.useContext)(eq),[Z,K]=(l=(0,I.useContext)(eE),a=(0,I.useRef)([]),d=use_event_o(n=>(a.current.push(n),l&&l.register(n),()=>m(n))),m=use_event_o(n=>{let s=a.current.indexOf(n);-1!==s&&a.current.splice(s,1),l&&l.unregister(n)}),p=(0,I.useMemo)(()=>({register:d,unregister:m,portals:a}),[d,m,a]),[a,(0,I.useMemo)(()=>function({children:n}){return I.createElement(eE.Provider,{value:p},n)},[p])]),{resolveContainers:G,mainTreeNodeRef:J,MainTreeNode:Q}=function({defaultContainers:n=[],portals:s,mainTreeNodeRef:o}={}){var l;let a=(0,I.useRef)(null!=(l=null==o?void 0:o.current)?l:null),d=use_owner_n(a),m=use_event_o(()=>{var o;let l=[];for(let s of n)null!==s&&(s instanceof HTMLElement?l.push(s):"current"in s&&s.current instanceof HTMLElement&&l.push(s.current));if(null!=s&&s.current)for(let n of s.current)l.push(n);for(let n of null!=(o=null==d?void 0:d.querySelectorAll("html > *, body > *"))?o:[])n!==document.body&&n!==document.head&&n instanceof HTMLElement&&"headlessui-portal-root"!==n.id&&(n.contains(a.current)||l.some(s=>n.contains(s))||l.push(n));return l});return{resolveContainers:m,contains:use_event_o(n=>m().some(s=>s.contains(n))),mainTreeNodeRef:a,MainTreeNode:(0,I.useMemo)(()=>function(){return null!=o?null:I.createElement(el,{features:ei.Hidden,ref:a})},[a,o])}}({portals:Z,defaultContainers:[null!=(o=q.panelRef.current)?o:F.current]}),ee=Y?"parent":"leaf",et=null!==j&&(j&V.Closing)===V.Closing,en=!z&&!et&&W;use_inert_h((0,I.useCallback)(()=>{var n,s;return null!=(s=Array.from(null!=(n=null==k?void 0:k.querySelectorAll("body > *"))?n:[]).find(n=>"headlessui-portal-root"!==n.id&&n.contains(J.current)&&n instanceof HTMLElement))?s:null},[J]),en);let er=!!Y||W;use_inert_h((0,I.useCallback)(()=>{var n,s;return null!=(s=Array.from(null!=(n=null==k?void 0:k.querySelectorAll("[data-headlessui-portal]"))?n:[]).find(n=>n.contains(J.current)&&n instanceof HTMLElement))?s:null},[J]),er),function(n,s,o=!0){let l=(0,I.useRef)(!1);function c(o,a){if(!l.current||o.defaultPrevented)return;let d=a(o);if(null!==d&&d.getRootNode().contains(d)&&d.isConnected){for(let s of function u(n){return"function"==typeof n?u(n()):Array.isArray(n)||n instanceof Set?n:[n]}(n)){if(null===s)continue;let n=s instanceof HTMLElement?s:s.current;if(null!=n&&n.contains(d)||o.composed&&o.composedPath().includes(n))return}return!function(n,s=0){var o;return n!==(null==(o=owner_e(n))?void 0:o.body)&&match_u(s,{0:()=>n.matches(ea),1(){let s=n;for(;null!==s;){if(s.matches(ea))return!0;s=s.parentElement}return!1}})}(d,ef.Loose)&&-1!==d.tabIndex&&o.preventDefault(),s(o,d)}}(0,I.useEffect)(()=>{requestAnimationFrame(()=>{l.current=o})},[o]);let a=(0,I.useRef)(null);use_document_event_d("pointerdown",n=>{var s,o;l.current&&(a.current=(null==(o=null==(s=n.composedPath)?void 0:s.call(n))?void 0:o[0])||n.target)},!0),use_document_event_d("mousedown",n=>{var s,o;l.current&&(a.current=(null==(o=null==(s=n.composedPath)?void 0:s.call(n))?void 0:o[0])||n.target)},!0),use_document_event_d("click",n=>{a.current&&(c(n,()=>a.current),a.current=null)},!0),use_document_event_d("touchend",n=>c(n,()=>n.target instanceof HTMLElement?n.target:null),!0),use_window_event_s("blur",n=>c(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}(G,$,!(!W||Y));let eu=!(Y||0!==H);use_event_listener_E(null==k?void 0:k.defaultView,"keydown",n=>{eu&&(n.defaultPrevented||n.key===es.Escape&&(n.preventDefault(),n.stopPropagation(),$()))}),function(n,s,o=()=>[document.body]){var l;let a,d;l=n=>{var s;return{containers:[...null!=(s=n.containers)?s:[],o]}},a=eO(eR.subscribe,eR.getSnapshot,eR.getSnapshot),(d=n?a.get(n):void 0)&&d.count,use_iso_morphic_effect_l(()=>{if(!(!n||!s))return eR.dispatch("PUSH",n,l),()=>eR.dispatch("POP",n,l)},[s,n])}(k,!(et||0!==H||z),G),(0,I.useEffect)(()=>{if(0!==H||!F.current)return;let n=new ResizeObserver(n=>{for(let s of n){let n=s.target.getBoundingClientRect();0===n.x&&0===n.y&&0===n.width&&0===n.height&&$()}});return n.observe(F.current),()=>n.disconnect()},[H,F,$]);let[ec,ed]=function(){let[n,s]=(0,I.useState)([]);return[n.length>0?n.join(" "):void 0,(0,I.useMemo)(()=>function(n){let o=use_event_o(n=>(s(s=>[...s,n]),()=>s(s=>{let o=s.slice(),l=o.indexOf(n);return -1!==l&&o.splice(l,1),o}))),l=(0,I.useMemo)(()=>({register:o,slot:n.slot,name:n.name,props:n.props}),[o,n.slot,n.name,n.props]);return I.createElement(eS.Provider,{value:l},n.children)},[s])]}(),em=(0,I.useMemo)(()=>[{dialogState:H,close:$,setTitleId:X},q],[H,q,$,X]),ep=(0,I.useMemo)(()=>({open:0===H}),[H]),eh={ref:L,id:_,role:"dialog","aria-modal":0===H||void 0,"aria-labelledby":q.titleId,"aria-describedby":ec};return I.createElement(stack_context_M,{type:"Dialog",enabled:0===H,element:F,onUpdate:use_event_o((n,s)=>{"Dialog"===s&&match_u(n,{[ej.Add]:()=>T(n=>n+1),[ej.Remove]:()=>T(n=>n-1)})})},I.createElement(portal_force_root_P,{force:!0},I.createElement(eN,null,I.createElement(eq.Provider,{value:em},I.createElement(eN.Group,{target:F},I.createElement(portal_force_root_P,{force:!1},I.createElement(ed,{slot:ep,name:"Dialog.Description"},I.createElement(e_,{initialFocus:y,containers:G,features:W?match_u(ee,{parent:e_.features.RestoreFocus,leaf:e_.features.All&~e_.features.FocusLock}):e_.features.None},I.createElement(K,null,render_X({ourProps:eh,theirProps:E,slot:ep,defaultTag:"div",features:eU,visible:0===H,name:"Dialog"}))))))))),I.createElement(Q,null))}),{Backdrop:D(function(n,s){let o=eo(),{id:l=`headlessui-dialog-backdrop-${o}`,...a}=n,[{dialogState:d},m]=dialog_b("Dialog.Backdrop"),p=use_sync_refs_y(s);(0,I.useEffect)(()=>{if(null===m.panelRef.current)throw Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[m.panelRef]);let h=(0,I.useMemo)(()=>({open:0===d}),[d]);return I.createElement(portal_force_root_P,{force:!0},I.createElement(eN,null,render_X({ourProps:{ref:p,id:l,"aria-hidden":!0},theirProps:a,slot:h,defaultTag:"div",name:"Dialog.Backdrop"})))}),Panel:D(function(n,s){let o=eo(),{id:l=`headlessui-dialog-panel-${o}`,...a}=n,[{dialogState:d},m]=dialog_b("Dialog.Panel"),p=use_sync_refs_y(s,m.panelRef),h=(0,I.useMemo)(()=>({open:0===d}),[d]);return render_X({ourProps:{ref:p,id:l,onClick:use_event_o(n=>{n.stopPropagation()})},theirProps:a,slot:h,defaultTag:"div",name:"Dialog.Panel"})}),Overlay:D(function(n,s){let o=eo(),{id:l=`headlessui-dialog-overlay-${o}`,...a}=n,[{dialogState:d,close:m}]=dialog_b("Dialog.Overlay");return render_X({ourProps:{ref:use_sync_refs_y(s),id:l,"aria-hidden":!0,onClick:use_event_o(n=>{if(n.target===n.currentTarget){if(function(n){let s=n.parentElement,o=null;for(;s&&!(s instanceof HTMLFieldSetElement);)s instanceof HTMLLegendElement&&(o=s),s=s.parentElement;let l=(null==s?void 0:s.getAttribute("disabled"))==="";return!(l&&function(n){if(!n)return!1;let s=n.previousElementSibling;for(;null!==s;){if(s instanceof HTMLLegendElement)return!1;s=s.previousElementSibling}return!0}(o))&&l}(n.currentTarget))return n.preventDefault();n.preventDefault(),n.stopPropagation(),m()}})},theirProps:a,slot:(0,I.useMemo)(()=>({open:0===d}),[d]),defaultTag:"div",name:"Dialog.Overlay"})}),Title:D(function(n,s){let o=eo(),{id:l=`headlessui-dialog-title-${o}`,...a}=n,[{dialogState:d,setTitleId:m}]=dialog_b("Dialog.Title"),p=use_sync_refs_y(s);return(0,I.useEffect)(()=>(m(l),()=>m(null)),[l,m]),render_X({ourProps:{ref:p,id:l},theirProps:a,slot:(0,I.useMemo)(()=>({open:0===d}),[d]),defaultTag:"h2",name:"Dialog.Title"})}),Description:eT});var e$=o(2898);let eX=(0,e$.Z)("Menu",[["line",{x1:"4",y1:"12",x2:"20",y2:"12",key:"1q6rtp"}],["line",{x1:"4",y1:"6",x2:"20",y2:"6",key:"1jr6gt"}],["line",{x1:"4",y1:"18",x2:"20",y2:"18",key:"98tuvx"}]]);var eV=o(2549),eW=o(6691),eY=o.n(eW),ez=o(1396),eZ=o.n(ez),eK=o(1289),eG=o.n(eK),Icons=function(){return(0,H.jsx)("div",{className:eG().image_wrapper,children:(0,H.jsx)(eY(),{className:eG().logo_front,width:100,height:100,alt:"image",src:"/logowhite.png"})})},eJ=o(6307),eQ=o(9977),e0=o(7787),e1=o(5118),e2=o(4033),components_MobileChatLayout=n=>{let{friends:s,session:o,sidebarOptions:l,unseenRequestCount:a}=n,[d,m]=(0,I.useState)(!1),p=(0,e2.usePathname)();return(0,I.useEffect)(()=>{m(!1)},[p]),(0,H.jsxs)("div",{className:"fixed bg-zinc-50 border-b border-zinc-200 top-0 inset-x-0 py-2 px-4",children:[(0,H.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,H.jsx)(eZ(),{href:"/dashboard",className:(0,eQ.d)({variant:"ghost"}),children:(0,H.jsx)(Icons,{})}),(0,H.jsxs)(eQ.Z,{onClick:()=>m(!0),className:"gap-4",children:["Menu ",(0,H.jsx)(eX,{className:"h-6 w-6"})]})]}),(0,H.jsx)(er.Root,{show:d,as:I.Fragment,children:(0,H.jsxs)(eB,{as:"div",className:"relative z-10",onClose:m,children:[(0,H.jsx)("div",{className:"fixed inset-0"}),(0,H.jsx)("div",{className:"fixed inset-0 overflow-hidden",children:(0,H.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,H.jsx)("div",{className:"pointer-events-none fixed inset-y-0 left-0 flex max-w-full pr-10",children:(0,H.jsx)(er.Child,{as:I.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,H.jsx)(eB.Panel,{className:"pointer-events-auto w-screen max-w-md",children:(0,H.jsxs)("div",{className:"flex h-full flex-col overflow-hidden bg-white py-6 shadow-xl",children:[(0,H.jsx)("div",{className:"px-4 sm:px-6",children:(0,H.jsxs)("div",{className:"flex items-start justify-between",children:[(0,H.jsx)(eB.Title,{className:"text-base font-semibold leading-6 text-gray-900",children:"Dashboard"}),(0,H.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,H.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:()=>m(!1),children:[(0,H.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,H.jsx)(eV.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]})}),(0,H.jsxs)("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:[s.length>0?(0,H.jsx)("div",{className:"text-xs font-semibold leading-6 text-gray-400",children:"Your chats"}):null,(0,H.jsx)("nav",{className:"flex flex-1 flex-col",children:(0,H.jsxs)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[(0,H.jsx)("li",{children:(0,H.jsx)(e1.default,{friends:s,sessionId:o.user.id})}),(0,H.jsxs)("li",{children:[(0,H.jsx)("div",{className:"text-xs font-semibold leading-6 text-gray-400",children:"Overview"}),(0,H.jsxs)("ul",{role:"list",className:"-mx-2 mt-2 space-y-1",children:[l.map(n=>(0,H.jsx)("li",{children:(0,H.jsxs)(eZ(),{href:n.href,className:"text-gray-700 hover:text-indigo-600 hover:bg-gray-50 group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold",children:[(0,H.jsx)("span",{className:"text-gray-400 border-gray-200 group-hover:border-indigo-600 group-hover:text-indigo-600 flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border text-[0.625rem] font-medium bg-white",children:(0,H.jsx)(Icons,{})}),(0,H.jsx)("span",{className:"truncate",children:n.name})]})},n.name)),(0,H.jsx)("li",{children:(0,H.jsx)(e0.default,{initialUnseenRequestCount:a,sessionId:o.user.id})})]})]}),(0,H.jsxs)("li",{className:"-ml-6 mt-auto flex items-center",children:[(0,H.jsxs)("div",{className:"flex flex-1 items-center gap-x-4 px-6 py-3 text-sm font-semibold leading-6 text-gray-900",children:[(0,H.jsx)("div",{className:"relative h-8 w-8 bg-gray-50",children:(0,H.jsx)(eY(),{fill:!0,referrerPolicy:"no-referrer",className:"rounded-full",src:o.user.image||"",alt:"Your profile picture"})}),(0,H.jsx)("span",{className:"sr-only",children:"Your profile"}),(0,H.jsxs)("div",{className:"flex flex-col",children:[(0,H.jsx)("span",{"aria-hidden":"true",children:o.user.name}),(0,H.jsx)("span",{className:"text-xs text-zinc-400","aria-hidden":"true",children:o.user.email})]})]}),(0,H.jsx)(eJ.default,{className:"h-full aspect-square"})]})]})})]})]})})})})})})]})})]})}},5118:function(n,s,o){"use strict";o.r(s),o.d(s,{default:function(){return components_SidebarChatList}});var l=o(7437),a=o(9665),d=o(992),m=o(4033),p=o(2265),h=o(5925),_=o(6691),b=o.n(_),components_UnseenChatToast=n=>{let{t:s,senderId:o,sessionId:a,senderImg:m,senderName:p,senderMessage:_}=n;return(0,l.jsxs)("div",{className:(0,d.cn)("max-w-md w-full bg-white shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5",{"animate-enter":s.visible,"animate-leave":!s.visible}),children:[(0,l.jsx)("a",{onClick:()=>h.Am.dismiss(s.id),href:"/dashboard/chat/".concat((0,d.M)(a,o)),className:"flex-1 w-0 p-4",children:(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)("div",{className:"flex-shrink-0 pt-0.5",children:(0,l.jsx)("div",{className:"relative h-10 w-10",children:(0,l.jsx)(b(),{fill:!0,referrerPolicy:"no-referrer",className:"rounded-full",src:m,alt:"".concat(p," profile picture")})})}),(0,l.jsxs)("div",{className:"ml-3 flex-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:p}),(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:_})]})]})}),(0,l.jsx)("div",{className:"flex border-l border-gray-200",children:(0,l.jsx)("button",{onClick:()=>h.Am.dismiss(s.id),className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Close"})})]})},components_SidebarChatList=n=>{let{friends:s,sessionId:o}=n,_=(0,m.useRouter)(),b=(0,m.usePathname)(),[x,y]=(0,p.useState)([]),[w,E]=(0,p.useState)(s);return(0,p.useEffect)(()=>{a.b.subscribe((0,d.h)("user:".concat(o,":chats"))),a.b.subscribe((0,d.h)("user:".concat(o,":friends")));let newFriendHandler=n=>{console.log("received new user",n),E(s=>[...s,n])},chatHandler=n=>{let s=b!=="/dashboard/chat/".concat((0,d.M)(o,n.senderId));s&&(h.Am.custom(s=>(0,l.jsx)(components_UnseenChatToast,{t:s,sessionId:o,senderId:n.senderId,senderImg:n.senderImg,senderMessage:n.text,senderName:n.senderName})),y(s=>[...s,n]))};return a.b.bind("new_message",chatHandler),a.b.bind("new_friend",newFriendHandler),()=>{a.b.unsubscribe((0,d.h)("user:".concat(o,":chats"))),a.b.unsubscribe((0,d.h)("user:".concat(o,":friends"))),a.b.unbind("new_message",chatHandler),a.b.unbind("new_friend",newFriendHandler)}},[b,o,_]),(0,p.useEffect)(()=>{(null==b?void 0:b.includes("chat"))&&y(n=>n.filter(n=>!b.includes(n.senderId)))},[b]),(0,l.jsx)("ul",{role:"list",className:"max-h-[25rem] overflow-y-auto -mx-2 space-y-1",children:w.sort().map(n=>{let s=x.filter(s=>s.senderId===n.id).length;return(0,l.jsx)("li",{children:(0,l.jsxs)("a",{href:"/dashboard/chat/".concat((0,d.M)(o,n.id)),className:"text-gray-700 hover:text-indigo-600 hover:bg-gray-50 group flex items-center gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold",children:[n.name,s>0?(0,l.jsx)("div",{className:"bg-indigo-600 font-medium text-xs text-white w-4 h-4 rounded-full flex justify-center items-center",children:s}):null]})},n.id)})})}},6307:function(n,s,o){"use strict";o.r(s),o.d(s,{default:function(){return components_SignOutButton}});var l=o(7437),a=o(6264),d=o(2898);let m=(0,d.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",y1:"12",x2:"9",y2:"12",key:"1stwgr"}]]);var p=o(2749),h=o(2265),_=o(5925),b=o(9977),components_SignOutButton=n=>{let{...s}=n,[o,d]=(0,h.useState)(!1);return(0,l.jsx)(b.Z,{...s,variant:"ghost",onClick:async()=>{d(!0);try{await (0,p.signOut)()}catch(n){_.Am.error("There was a problem signing out")}finally{d(!1)}},children:o?(0,l.jsx)(a.Z,{className:"animate-spin h-4 w-4"}):(0,l.jsx)(m,{className:"w-4 h-4"})})}},9977:function(n,s,o){"use strict";o.d(s,{d:function(){return p}});var l=o(7437),a=o(992),d=o(7404),m=o(6264);let p=(0,d.j)("active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-color focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-orange-800 text-white hover:bg-orange-700",ghost:"bg-transparent hover:text-black-900 hover:bg-black-200"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-2",lg:"h-11 px-8"}},defaultVariants:{variant:"default",size:"default"}});s.Z=n=>{let{className:s,children:o,variant:d,isLoading:h,size:_,...b}=n;return(0,l.jsxs)("button",{className:(0,a.cn)(p({variant:d,size:_,className:s})),disabled:h,...b,children:[h?(0,l.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}):null,o]})}},9665:function(n,s,o){"use strict";o.d(s,{b:function(){return h}});var l=o(9331),a=o.n(l),d=o(7965),m=o.n(d),p=o(2601);new(a())({appId:p.env.PUSHER_APP_ID,key:"93f5d985ede86198e0c7",secret:p.env.PUSHER_APP_SECRET,cluster:"mt1",useTLS:!0});let h=new(m())("93f5d985ede86198e0c7",{cluster:"mt1"})},992:function(n,s,o){"use strict";o.d(s,{M:function(){return chatHrefConstructor},cn:function(){return cn},h:function(){return toPusherKey}});var l=o(348),a=o(3986);function cn(){for(var n=arguments.length,s=Array(n),o=0;o<n;o++)s[o]=arguments[o];return(0,a.m)((0,l.W)(s))}function toPusherKey(n){return n.replace(/:/g,"__")}function chatHrefConstructor(n,s){let o=[n,s].sort();return"".concat(o[0],"--").concat(o[1])}},1289:function(n){n.exports={image_wrapper:"icons_image_wrapper__2aeIT",logo_front:"icons_logo_front__Vgu_6"}},584:function(n){n.exports={add_a_friend:"requests_add_a_friend__EFe7w",made_by:"requests_made_by__yz_Xa",top_links_group:"requests_top_links_group__81Yna"}},4033:function(n,s,o){n.exports=o(290)}},function(n){n.O(0,[218,135,133,964,620,724,103,971,864,744],function(){return n(n.s=3150)}),_N_E=n.O()}]);