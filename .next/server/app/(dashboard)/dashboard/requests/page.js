(()=>{var e={};e.id=714,e.ids=[714],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},82650:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>u,routeModule:()=>x,tree:()=>c});var t=r(73137),i=r(54647),a=r(4183),n=r.n(a),o=r(71775),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(s,d);let l=t.AppPageRouteModule,c=["",{children:["(dashboard)",{children:["dashboard",{children:["requests",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,67955)),"C:\\Users\\User\\Demo Apps For My Official Website\\Good Website Models\\chatappbydeo\\src\\app\\(dashboard)\\dashboard\\requests\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,91569)),"C:\\Users\\User\\Demo Apps For My Official Website\\Good Website Models\\chatappbydeo\\src\\app\\(dashboard)\\dashboard\\requests\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,84493)),"C:\\Users\\User\\Demo Apps For My Official Website\\Good Website Models\\chatappbydeo\\src\\app\\(dashboard)\\dashboard\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,51918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,59197)),"C:\\Users\\User\\Demo Apps For My Official Website\\Good Website Models\\chatappbydeo\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,51918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\User\\Demo Apps For My Official Website\\Good Website Models\\chatappbydeo\\src\\app\\(dashboard)\\dashboard\\requests\\page.tsx"],p="/(dashboard)/dashboard/requests/page",h={require:r,loadChunk:()=>Promise.resolve()},x=new l({definition:{kind:i.x.APP_PAGE,page:"/(dashboard)/dashboard/requests/page",pathname:"/dashboard/requests",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},66355:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,42796,23)),Promise.resolve().then(r.bind(r,88086))},77516:(e,s,r)=>{Promise.resolve().then(r.bind(r,43285))},88086:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>components_FriendRequests});var t=r(60080),i=r(14600),a=r(1712),n=r(93258),o=r(3528);let d=(0,o.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",y1:"8",x2:"19",y2:"14",key:"9s353q"}],["line",{x1:"22",y1:"11",x2:"16",y2:"11",key:"8bk570"}]]),l=(0,o.Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]);var c=r(56206),u=r(57114),p=r(9885),h=r(43352),x=r.n(h);let components_FriendRequests=({incomingFriendRequests:e,sessionId:s})=>{let r=(0,u.useRouter)(),[o,h]=(0,p.useState)(e);(0,p.useEffect)(()=>{i.b.subscribe((0,a.h)(`user:${s}:incoming_friend_requests`)),console.log("listening to ",`user:${s}:incoming_friend_requests`);let friendRequestHandler=({senderId:e,senderEmail:s})=>{console.log("function got called"),h(r=>[...r,{senderId:e,senderEmail:s}])};return i.b.bind("incoming_friend_requests",friendRequestHandler),()=>{i.b.unsubscribe((0,a.h)(`user:${s}:incoming_friend_requests`)),i.b.unbind("incoming_friend_requests",friendRequestHandler)}},[s]);let acceptFriend=async e=>{await n.default.post("/api/friends/accept",{id:e}),h(s=>s.filter(s=>s.senderId!==e)),r.refresh()},denyFriend=async e=>{await n.default.post("/api/friends/deny",{id:e}),h(s=>s.filter(s=>s.senderId!==e)),r.refresh()};return t.jsx(t.Fragment,{children:0===o.length?(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-zinc-500",children:"Nothing Here Yet..."}),t.jsx("p",{className:x().add_a_friend,children:"Add A Friend With A Google Account !"})]}):o.map(e=>(0,t.jsxs)("div",{className:"flex gap-4 items-center",children:[t.jsx(d,{className:"text-black"}),t.jsx("p",{className:"font-medium text-lg",children:e.senderEmail}),t.jsx("button",{onClick:()=>acceptFriend(e.senderId),"aria-label":"accept friend",className:"w-8 h-8 bg-indigo-600 hover:bg-indigo-700 grid place-items-center rounded-full transition hover:shadow-md",children:t.jsx(l,{className:"font-semibold text-white w-3/4 h-3/4"})}),t.jsx("button",{onClick:()=>denyFriend(e.senderId),"aria-label":"deny friend",className:"w-8 h-8 bg-red-600 hover:bg-red-700 grid place-items-center rounded-full transition hover:shadow-md",children:t.jsx(c.Z,{className:"font-semibold text-white w-3/4 h-3/4"})})]},e.senderId))})}},43352:e=>{e.exports={add_a_friend:"requests_add_a_friend__EFe7w",made_by:"requests_made_by__yz_Xa",top_links_group:"requests_top_links_group__81Yna"}},91569:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var t=r(48144),i=r(21791);r(78861);let __WEBPACK_DEFAULT_EXPORT__=({})=>(0,t.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[t.jsx(i.ZP,{className:"mb-4",height:60,width:500}),t.jsx(i.ZP,{height:50,width:350}),t.jsx(i.ZP,{height:50,width:350}),t.jsx(i.ZP,{height:50,width:350})]})},67955:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>h});var t=r(48144),i=r(17536);let a=(0,i.createProxy)(String.raw`C:\Users\User\Demo Apps For My Official Website\Good Website Models\chatappbydeo\src\components\FriendRequests.tsx`),{__esModule:n,$$typeof:o}=a,d=a.default;var l=r(60187),c=r(73865),u=r(3471),p=r(6465);let page=async()=>{let e=await (0,u.getServerSession)(c.L);e||(0,p.notFound)();let s=await (0,l.Y)("smembers",`user:${e.user.id}:incoming_friend_requests`),r=await Promise.all(s.map(async e=>{let s=await (0,l.Y)("get",`user:${e}`),r=JSON.parse(s);return{senderId:e,senderEmail:r.email}}));return(0,t.jsxs)("main",{className:" m-5 pt-15 pl-5",children:[t.jsx("h1",{className:"font-bold text-sky-900 text-4xl mb-8 pt-10",children:"Friend Requests"}),t.jsx("div",{className:"flex flex-col gap-4",children:t.jsx(d,{incomingFriendRequests:r,sessionId:e.user.id})})]})},h=page},78861:()=>{}};var s=require("../../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[650,401,333,35,885,258,8,45,865,571,917,672],()=>__webpack_exec__(82650));module.exports=r})();