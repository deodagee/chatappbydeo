(()=>{var e={};e.id=903,e.ids=[903],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},84965:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>p,routeModule:()=>h,tree:()=>l});var t=s(73137),a=s(54647),i=s(4183),o=s.n(i),n=s(71775),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(r,d);let c=t.AppPageRouteModule,l=["",{children:["(dashboard)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,70617)),"C:\\Users\\User\\Demo Apps For My Official Website\\Good Website Models\\chatappbydeo\\src\\app\\(dashboard)\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,84493)),"C:\\Users\\User\\Demo Apps For My Official Website\\Good Website Models\\chatappbydeo\\src\\app\\(dashboard)\\dashboard\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,51918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,59197)),"C:\\Users\\User\\Demo Apps For My Official Website\\Good Website Models\\chatappbydeo\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,51918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["C:\\Users\\User\\Demo Apps For My Official Website\\Good Website Models\\chatappbydeo\\src\\app\\(dashboard)\\dashboard\\page.tsx"],u="/(dashboard)/dashboard/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new c({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},49583:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,25251,23)),Promise.resolve().then(s.t.bind(s,41297,23)),Promise.resolve().then(s.t.bind(s,42796,23))},70617:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m});var t=s(48144),a=s(92810),i=s(60187),o=s(73865),n=s(70594),d=s(23245),c=s(3471),l=s(75042),p=s.n(l),u=s(44602),x=s.n(u),h=s(6465);let page=async({})=>{let e=await (0,c.getServerSession)(o.L);e||(0,h.notFound)();let r=await (0,a.l)(e.user.id),s=await Promise.all(r.map(async r=>{let[s]=await (0,i.Y)("zrange",`chat:${(0,n.M)(e.user.id,r.id)}:messages`,-1,-1),t=null;if(s)try{t=JSON.parse(s)}catch(e){console.error("Error parsing lastMessage:",e)}return{...r,lastMessage:t}}));return(0,t.jsxs)("div",{className:"container py-12",children:[t.jsx("h1",{className:"font-bold text-5xl mb-8",children:"Recent chats"}),0===s.length?t.jsx("p",{className:"text-sm text-zinc-500",children:"Nothing Here Yet..."}):s.map(r=>(0,t.jsxs)("div",{className:"relative bg-zinc-50 border border-zinc-200 p-3 rounded-md",children:[t.jsx("div",{className:"absolute right-4 inset-y-0 flex items-center",children:t.jsx(d.Z,{className:"h-7 w-7 text-zinc-400"})}),(0,t.jsxs)(x(),{href:`/dashboard/chat/${(0,n.M)(e.user.id,r.id)}`,className:"relative sm:flex",children:[t.jsx("div",{className:"mb-4 flex-shrink-0 sm:mb-0 sm:mr-4",children:t.jsx("div",{className:"relative h-6 w-6",children:t.jsx(p(),{referrerPolicy:"no-referrer",className:"rounded-full",alt:`${r.name} profile picture`,src:r.image,fill:!0})})}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-lg font-semibold",children:r.name}),(0,t.jsxs)("p",{className:"mt-1 max-w-md",children:[t.jsx("span",{className:"text-zinc-400",children:r.lastMessage?.senderId===e.user.id?"You: ":""}),r.lastMessage?.text]})]})]})]},r.id))]})},m=page},70594:(e,r,s)=>{"use strict";function toPusherKey(e){return e.replace(/:/g,"__")}function chatHrefConstructor(e,r){let s=[e,r].sort();return`${s[0]}--${s[1]}`}s.d(r,{M:()=>chatHrefConstructor,h:()=>toPusherKey}),s(682)}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),s=r.X(0,[650,401,333,35,885,258,8,400,865,571,917,672],()=>__webpack_exec__(84965));module.exports=s})();