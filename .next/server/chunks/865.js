"use strict";exports.id=865,exports.ids=[865],exports.modules={60187:(e,r,t)=>{t.d(r,{Y:()=>fetchRedis});let s=process.env.UPSTASH_REDIS_REST_URL,i=process.env.UPSTASH_REDIS_REST_TOKEN;async function fetchRedis(e,...r){let t=`${s}/${e}/${r.join("/")}`,n=await fetch(t,{headers:{Authorization:`Bearer ${i}`},cache:"no-store"});if(!n.ok)throw Error(`Error executing Redis command: ${n.statusText}`);let a=await n.json();return a.result}},73865:(e,r,t)=>{t.d(r,{L:()=>o});var s=t(21392),i=t(11805),n=t(54901),a=t(60187);function getGoogleCredentials(){let e=process.env.GOOGLE_CLIENT_ID,r=process.env.GOOGLE_CLIENT_SECRET;if(!e||0===e.length)throw Error("Missing GOOGLE_CLIENT_ID");if(!r||0===r.length)throw Error("Missing GOOGLE_CLIENT_SECRET");return{clientId:e,clientSecret:r}}let o={adapter:(0,s.mD)(i.db),session:{strategy:"jwt"},pages:{signIn:"/login"},providers:[(0,n.Z)({clientId:getGoogleCredentials().clientId,clientSecret:getGoogleCredentials().clientSecret})],callbacks:{async jwt({token:e,user:r}){let t=await (0,a.Y)("get",`user:${e.id}`);if(!t)return r&&(e.id=r.id),e;let s=JSON.parse(t);return{id:s.id,name:s.name,email:s.email,picture:s.image}},session:async({session:e,token:r})=>(r&&(e.user.id=r.id,e.user.name=r.name,e.user.email=r.email,e.user.image=r.picture),e),redirect:()=>"/dashboard"}}},11805:(e,r,t)=>{t.d(r,{db:()=>i});var s=t(54401);let i=new s.s({url:process.env.UPSTASH_REDIS_REST_URL,token:process.env.UPSTASH_REDIS_REST_TOKEN})}};